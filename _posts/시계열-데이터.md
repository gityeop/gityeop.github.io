## 5.시계열데이터

# 5-1.시계열데이터

### 1.시계열데이터

1.1시계열데이터
1.2시계열데이터특징
1.3시계열데이터분석방법론
1.4정상성과비정상성
1.5비정상성처리

### 2.시계열데이터전처리

2.1평활
2.2이동평균
2.3지수이동평균

**시계열데이터**

## 1.시계열데이터

#### 시간에따른데이터

1.1 시계열데이터

- 하나의변수를시간에따라여러번관측한데이터
- 가격,매출,온도,성장등 **변화예측** 와 **반복되는패턴** 에대한인사이트도출을목표로함
  ­ 단순히값뿐만아니라변동성등에대한다양한예측가능
- 시간또는회차단위이며,시간t는절대적인순서가중요한데이터이므로t는고정하고이외의
  변수들의여러요인에대해분석하는것이일반적
- 어떤특징이있을까?

  1.1시계열데이터(예시)
  https://trends.google.com/trends/

  1.2시계열데이터의특징
  **추세,계절성,주기,노이즈**

- 추세(trend) :장기적인증가또는감소
- 계절성(seasonality) :특정요일/계절에따라영향
- 주기(cycle) :고정된빈도가아니지만형태적으로유사하게나타나는패턴
- 노이즈(noise) :측정오류,내부변동성등다양한요인으로생기는왜곡

  1.3시계열데이터분석방법론
  **성분분석** 이란 \*\*\*\* 추세,계절성,주기,노이즈를통해시계열을분석

- 시계열데이터=규칙성데이터+불규칙데이터
- **가법모델(additivemodel)** :추세+계절성+주기+노이즈
- **승법모델(multiplicativemodel)** :추세*계절성*주기+노이즈

시간에따라변동폭이비교적일정하다면가법모델,변동폭이커진다면승법모델사용

1.4 정상성과 비정상성

- 대부분의시계열데이터는시간에따라통계적특성이변함(물가,가격,사용자수등)
- 시간에따라통계적특성이변한다면=>관측시간에따라결과에많은영향
  - 구간이 다른 시계열에 대해 모델을 만들기 위해 관측시간은 결과값y와 독립적이어야 함
    - 통계적특성예시:평균,분산,공분산
- 정상성과비정상성
- **정상성** :시간에따라통계적특성이변하지않음
- **비정상성** :시간에따라통계적특성이변함

  1.5 비정상성 처리

- 통계모델에 사용하기 위해 비정상성 제거 필요=>시간에 특성을 제거
  **- 차분(Differencing)** :이웃된 두값의 차이값을 사용
  _-_ [1,2,4,7,8,10]=>[None,1,2,3,1,2] - 경우에 따라 2차 차분도 가능 - 바로 직전 데이터가 아닌 계절성 주기에 따라 차이를 두는 **계절성차분** 도 존재
  **- 로그연산** :로그 연산을 통해 비정상성 일부 제거 가능
- 이후 ARIMA등 시계열 모델에 주입 가능

(^10)
**시계열데이터**

## 2.시계열 데이터 전처리

#### 시계열 데이터의 다양한 고려 포인트

2.1평활

- **평활(Smooting)**이란 데이터의 불필요한 변동을 제거하여 쉬운 해석을 돕는 것을 의미
- 평활의 목적
  **- 추세 및 계절성 파악** : 노이즈 감소로 쉬운 추세와 계절성 파악
  **- 데이터 시각화 개선** : 시각적 해석에 용이

  2.1평활

1. 구간별 평균/구간 별 통계 사용

- 구간으로 나누어 통계값 사용
- 데이터 개수가 줄어들 수 있어 관찰에만 용이
- 초단위 차트 -> 주단위 차트

2. 이동 평균(Moving Average)
   ○ 이전 데이터의 총 평균을 주기별로 움직여 가며 사용
3. 그외 이동 평균
   ○ 최신 데이터에 더 가중치를 두기 위한 방법
   ○ 가중이동평균(Weighted Moving Average,WMA):가중치 기반
   ○ 지수이동평균(Exponential Moving Average,EMA):지수함수로 가중치 계산

**이동평균예시(window_size=3)**

● rawdata:[1,7,16,4,13,7,28,43]
● sum:[0,0,24,27,33,24,48,78]
● mean:[x,x,8,9,11,12,24,26]

급격하게 변하는 값에 대해서도 추세를 보기 쉬움
다만 구간 길이에 따라 다르게 해석될 수 있으니 주의

2.2 이동 평균(MovingAverage)

2.3 지수 이동 평균
EMA_k=a*A_k+(1-a)*EMA_k-1(0<a<1)의식을만족하는값
a가작을수록 smoothing정도가 커짐
